<!DOCTYPE html>
<html>

<head>
    <title>No Sugar Translator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            width: 320px;
            padding: 15px;
            margin: 0;
            background: #f6f7f8;
            color: #303030;
        }

        header {
            display: flex;
            align-items: flex-start;
            margin-bottom: 10px;
        }

        header img {
            width: 20px;
            height: 20px;
            margin-right: 8px;
        }

        h2 {
            margin: 0;
            font-size: 18px;
        }
        .version {
            font-size: 12px;
            color: #666;
            margin-left: 8px;
        }
        .subtitle {
            margin: 2px 0 0;
            font-size: 12px;
            color: #666;
        }
        .status-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: #d93025;
            margin-left: 4px;
        }
        .status-dot.connected {
            background-color: #0f9d58;
        }

        .option-group {
            margin-bottom: 15px;
        }

        .option-title {
            font-weight: bold;
            margin-bottom: 8px;
            display: block;
        }

        .button-group {
            display: flex;
            margin-top: 5px;
        }
        .button-group input[type="radio"] {
            display: none;
        }
        .button-group label {
            flex: 1;
            border: 1px solid #ccc;
            padding: 6px 8px;
            text-align: center;
            cursor: pointer;
            user-select: none;
        }
        .button-group label:not(:last-child) {
            border-right: none;
        }
        .button-group input[type="radio"]:checked + label {
            background-color: #00b0ff;
            color: #fff;
        }
        .button-group label svg {
            margin-right: 4px;
            vertical-align: middle;
        }

        label {
            user-select: none;
        }

        .api-key-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .api-key-container {
            position: relative;
            margin-bottom: 10px;
        }

        #authCode {
            width: 100%;
            padding: 8px;
            padding-right: 35px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        #serverAddress {
            width: 100%;
            padding: 8px;
            box-sizing: border-box;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        #customServerFields {
            margin-top: 8px;
        }

        .copy-button {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            background: none;
            border: none;
            padding: 0;
            font-size: 16px;
            color: #555;
        }

        #saveButton {
            background-color: #00b0ff;
            color: #fff;
            border: none;
            padding: 10px 16px;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            width: 100%;
        }

        #saveButton:hover {
            background-color: #0092d4;
        }

        #status {
            margin-top: 10px;
            text-align: center;
            min-height: 20px;
            color: #4CAF50;
            font-weight: bold;
        }

        #wsStatus {
            display: none;
        }

        .note {
            margin-top: 15px;
            font-size: 12px;
            color: #666;
            background: #f5f5f5;
            padding: 8px;
            border-radius: 4px;
        }
    </style>
</head>

<body>
    <header>
        <img src="icons/32x32.png" alt="Wire Icon">
        <div>
            <h2>No Sugar Translator<span class="version">v2</span><span id="wsStatus" class="status-dot"></span></h2>
            <p class="subtitle">Pure Translation. No Sugar Added.</p>
        </div>
    </header>

    <form id="settingsForm">
        <div class="option-group">
            <span class="option-title">Translation Mode:</span>
            <div class="button-group">
                <input type="radio" id="auto" name="translationMode" value="auto" checked>
                <label for="auto">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="8" width="18" height="10" rx="2"/>
                        <path d="M8 16v2h8v-2"/>
                        <circle cx="8" cy="13" r="1"/>
                        <circle cx="16" cy="13" r="1"/>
                        <path d="M12 2v4"/>
                    </svg>
                    Auto
                </label>

                <input type="radio" id="manual" name="translationMode" value="manual">
                <label for="manual">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M7 11V5a1 1 0 0 1 2 0v6"/>
                        <path d="M11 11V3a1 1 0 0 1 2 0v8"/>
                        <path d="M15 11V7a1 1 0 0 1 2 0v9a4 4 0 0 1-8 0v-5"/>
                    </svg>
                    Manual
                </label>

                <input type="radio" id="off" name="translationMode" value="off">
                <label for="off">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M12 2v10"/>
                        <path d="M5.5 5.5a8 8 0 1 0 13 0"/>
                    </svg>
                    Off
                </label>
            </div>
        </div>

        <div class="option-group">
            <span class="option-title">Target Language:</span>
            <div class="button-group">
                <input type="radio" id="english" name="targetLanguage" value="en" checked>
                <label for="english">EN</label>

                <input type="radio" id="chinese" name="targetLanguage" value="zh">
                <label for="chinese">ä¸­</label>

                <input type="radio" id="indonesian" name="targetLanguage" value="id">
                <label for="indonesian">ID</label>
            </div>
        </div>

        <div class="option-group">
            <span class="option-title">Translation Placement:</span>
            <div class="button-group">
                <input type="radio" id="place-bottom" name="translationPlacement" value="bottom" checked>
                <label for="place-bottom">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="6" y="3" width="12" height="12" rx="2"/>
                        <path d="M3 21h18"/>
                    </svg>
                    Bottom
                </label>

                <input type="radio" id="place-right" name="translationPlacement" value="right">
                <label for="place-right">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="3" y="6" width="12" height="12" rx="2"/>
                        <path d="M21 3v18"/>
                    </svg>
                    Right
                </label>
            </div>
        </div>

        <div class="api-key-section">
            <span class="option-title">Server Authorization Code:</span>
            <div class="api-key-container">
                <input type="password" id="authCode" name="authCode" placeholder="Enter authorization code">
                <button type="button" id="copyAuthCode" class="copy-button" title="Copy">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
                        <rect x="9" y="9" width="13" height="13" rx="2"/>
                        <rect x="3" y="3" width="13" height="13" rx="2"/>
                    </svg>
                </button>
            </div>
            <div>
                <label><input type="checkbox" id="useCustomServer"> Use custom server</label>
                <div id="customServerFields" style="display:none;">
                    <input type="text" id="serverAddress" placeholder="Server address">
                </div>
            </div>
            <div style="font-size: 12px; color: #d93025; margin-top: 5px;">
                * Authorization code is required for the extension to work
            </div>
        </div>

        <button type="submit" id="saveButton">Save Settings</button>
    </form>

    <div id="status"></div>

    <div class="note">
        <p>Translation is performed in the background as you scroll through messages. No need to click anything if auto
            mode is enabled.</p>
        <p>The extension uses a dedicated translation server. Provide an authorization code or run your own server.</p>
    </div>

    <script src="popup.js"></script>
</body>

</html>